# Story 2.4: Farm Details View

**Epic:** Frontend Application (Next.js)

## Status
Completed

## Story
**As a** User,
**I want** to click on a farm from the list and see its detailed information,
**so that** I can review its status, location, and technical specifications.

---

## Acceptance Criteria

1. **AC1:** Clicking "View" on a farm in the list navigates the user to `/farms/[uuid]`.
2. **AC2:** The page fetches detailed farm data from the `GET /farms/[uuid]/summary` endpoint.
3. **AC3:** Farm information is displayed in a structured layout, organized by categories:
    - **Overview**: Key metrics (Power, Turbines, Status, Location).
    - **General**: Project name, SPV, Code, Type.
    - **Technical**: Turbine details, manufacturer, total power.
    - **Location**: Country, Region, Department.
4. **AC4:** The UI uses a clean, professional design with Cards and Tabs.
5. **AC5:** A "Back to List" button allows easy navigation back to the dashboard.
6. **AC6:** The UI handles loading and error states gracefully.

---

## Tasks / Subtasks

- [x] **Task 1: Create Farm Details Page** (AC1, AC5)
  - [x] Create `frontend/src/app/farms/[uuid]/page.tsx`
  - [x] Implement layout with "Back to List" button using Lucide icons

- [x] **Task 2: Implement Data Fetching** (AC2, AC6)
  - [x] Use `api.get` to fetch data from `/farms/:uuid/summary`
  - [x] Manage loading and error states with a clean loading spinner

- [x] **Task 3: Build Overview Section** (AC3, AC4)
  - [x] Create 4 summary cards for quick status check
  - [x] Implement General Information and Performance Summary cards

- [x] **Task 4: Build Detailed Information Sections** (AC3, AC4)
  - [x] Create manual `Tabs` component for layout
  - [x] Implement Technical, Location, and Administration tabs

---

## Dev Notes

### UI Components
- Manually implemented `Tabs` component in `frontend/src/components/ui/tabs.tsx`.
- Integrated `lucide-react` for icons (Wind, MapPin, Zap, etc.).

### Navigation
- Used Next.js dynamic routing with `[uuid]` to handle individual farm pages.

---

## Testing

- **Manual Verification**: 
  - Navigated from list to detail.
  - Verified all tabs show correct data from the summary endpoint.
  - Verified the back button returns to the farm list.
  - Tested loading state and error handling by modifying the URL.

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-02-05 | 1.0 | Initial story creation | Dev Agent |
| 2026-02-05 | 1.1 | Implementation completed and verified | Dev Agent |

---

## Dev Agent Record

### Agent Model Used
Gemini 2.0 Flash

### File List
- `frontend/src/components/ui/tabs.tsx`
- `frontend/src/app/farms/[uuid]/page.tsx`
- `docs/stories/2.4.story.md`