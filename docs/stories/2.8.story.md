# Story 2.8: Global Dashboard & Stats

**Epic:** Frontend Application (Next.js)

## Status
Completed

## Story
**As a** Manager,
**I want** to see a high-level dashboard with global statistics across all farms,
**so that** I can quickly assess the total capacity and distribution of assets.

---

## Acceptance Criteria

1. **AC1:** A new "Dashboard" landing page (accessible after login) shows global statistics.
2. **AC2:** Statistics include:
    - Total number of farms.
    - Distribution of farms by type (Wind, Solar, Hybrid).
    - Total number of turbines.
    - Total installed power (MW).
3. **AC3:** The data is fetched from the `GET /farms/stats` API endpoint.
4. **AC4:** The UI uses a modern, card-based design for key metrics.
5. **AC5:** The dashboard provides quick links to the Farm List, Add Farm Wizard, and Documentation.
6. **AC6:** Only authenticated users can access the dashboard.

---

## Tasks / Subtasks

- [x] **Task 1: Create Dashboard Page** (AC1, AC6)
  - [x] Create `frontend/src/app/dashboard/page.tsx`
  - [x] Implement layout with 3 key metric cards (Assets, Capacity, Turbines)

- [x] **Task 2: Implement Stats Fetching** (AC3)
  - [x] Use `api.get('/farms/stats')` to retrieve aggregated data
  - [x] Handle loading and error states

- [x] **Task 3: Build Statistics UI** (AC2, AC4)
  - [x] Implement "Asset Distribution" card with type-based color coding
  - [x] Integrated `lucide-react` icons (Activity, Zap, Wind) for metrics

- [x] **Task 4: Navigation Integration** (AC5)
  - [x] Update Home page to provide "Go to Dashboard" as the primary action
  - [x] Implement "Quick Access" card with links to Inventory and Documentation

---

## Dev Notes

### B2 Certification Alignment
- This dashboard directly fulfills the requirements for data aggregation and visualization (C8, C9, C10) by consuming the specialized stats endpoint.

### UI Design
- Uses a grid layout that adapts to screen size (1 column on mobile, 3 columns on desktop for metrics).

---

## Testing

- **Manual Verification**: 
  - Verified dashboard loads correctly for authenticated users.
  - Verified that statistics match the aggregated values from the database.
  - Verified all quick links navigate to the correct routes.

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2026-02-05 | 1.0 | Initial story creation | Dev Agent |
| 2026-02-05 | 1.1 | Implementation completed and verified | Dev Agent |

---

## Dev Agent Record

### Agent Model Used
Gemini 2.0 Flash

### File List
- `frontend/src/app/dashboard/page.tsx`
- `frontend/src/app/page.tsx` (updated)
- `docs/stories/2.8.story.md`